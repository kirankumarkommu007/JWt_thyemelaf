<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
<title>Add Employee</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">


<link rel="stylesheet"
	href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
<script
	src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
<script
	src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.4.0/jspdf.umd.min.js"></script>
<script
	src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

</head>

<style>
body {
	font-family: Arial, sans-serif;
	margin: 0;
	padding: 0;
}

.maindiv {
	width: auto;
	min-width: 20%;
	display: flex;
	align-items: center;
	justify-content: center;
}

.form-group {
	margin-bottom: 10px;
	display: flex;
	align-items: center;
}

label {
	display: block;
	font-weight: bold;
}

h3 {
	border-bottom: 1px solid #ccc;
	padding-bottom: 10px;
	margin-bottom: 20px;
}

input[type="text"], input[type="email"], input[type="date"], select {
	width: 300px;
	padding: 5px;
	border: 1px solid #ccc;
	border-radius: 4px;
	box-sizing: border-box;
	margin-bottom: 10px;
}

button {
	padding: 10px 20px;
	border: none;
	border-radius: 4px;
	cursor: pointer;
	background-color: #007bff;
	color: #fff;
}

.btn {
	margin-top: 20px;
}

.btn:hover {
	background-color: #0056b3;
}

.fields {
	padding-right: 20px;
}

.fields2 {
	padding-right: 38px;
}

.fields1 {
	padding-left: 22px;
}

.fields2 {
	display: flex;
	align-items: center;
	padding-right: 5px;
}

.fields2 label {
	margin-top: 10px;
	padding: 10px;
}

.fields1 input[type="text"] {
	width: 300px;
	padding: 40px;
	border: 1px solid #ccc;
	border-radius: 4px;
	box-sizing: border-box;
	margin-bottom: 10px;
	height: 40px;
}
</style>



<body>

	<nav class="navbar navbar-inverse">
		<div class="container-fluid">
			<div class="navbar-header">
				<a class="navbar-brand" href="/hr/home">Admin Panel</a>
			</div>

			<ul class="nav navbar-nav navbar-right">
				<li><a href="/admin/home"><span
						class="glyphicon glyphicon-user"></span> Back to Employee list</a></li>
				<li><a href="/logout"><span
						class="glyphicon glyphicon-log-out"></span> Logout</a></li>

			</ul>
		</div>
	</nav>

	<div class="maindiv">
		<form id="employeeForm" th:action="@{/admin/add}" method="post"
			th:object="${Employee}">
			<h3>Personal Details</h3>
			<div class="form-group">

				<div class="fields">
					<label for="middlename">First Name of the Employee:</label> <input
						type="text" id="firstname" name="firstname"
						th:field="*{firstname}" required="required">
				</div>
				<div>
					<label for="middlename">Middle Name of the Employee:</label> <input
						type="text" id="middlename" name="middlename"
						th:field="*{middlename}">
				</div>

			</div>

			<div class="form-group">

				<div class="fields">
					<label for="lastname">Last Name of the Employee:</label> <input
						type="text" id="lastname" name="lastname" th:field="*{lastname}"
						required="required">
				</div>
				<div>
					<label for="dob">Date of Birth:</label> <input type="text" id="dob"
						name="dateOfBirth" th:field="*{dateOfBirth}" required="required">
				</div>
			</div>

			<div class="form-group">

				<div class="fields">
					<label for="gender">Gender:</label> <input type="text" id="gender"
						name="gender" th:field="*{gender}" required="required">
				</div>
				<div class="fields">
					<label for="BloodGroup">Blood Group:</label> <input type="text"
						id="bloodgroup" name="bloodgroup" th:field="*{bloodgroup}"
						required="required">

				</div>
			</div>

			<div class="form-group">

				<div class="fields">
					<label for="mobile">Mobile:</label> <input type="text" id="mobile"
						name="mobile" th:field="*{mobile}" required="required">
				</div>

				<div>
					<label for="email">Email:</label> <input type="email" id="email"
						name="email" th:field="*{email}" required="required">
				</div>

			</div>

			<div class="form-group">

				<div class="fields">
					<label for="fatherName">Father's Name:</label> <input type="text"
						id="fatherName" name="fatherName">
				</div>
				<div class="fields">
					<label for="motherName">Mother's Name:</label> <input type="text"
						id="motherName" name="motherName">
				</div>

			</div>

			<div class="form-group">

				<div class="fields">
					<label for="maritalStatus">Marital Status:</label><input
						type="text" id="maritalStatus" name="maritalStatus">
				</div>
				<div class="fields">
					<label for="spouseName">Spouse's Name:</label> <input type="text"
						id="spouseName" name="spouseName">
				</div>

			</div>

			<div class="form-group">

				<div class="fields2">
					<input type="checkbox" id="aadhaar_submitted"
						name="aadhaar_submitted"> <label for="aadhaar_submitted">Aadhaar
						submitted</label>
				</div>

				<div class="fields2">
					<input type="checkbox" id="pan_submitted" name="pan_submitted">
					<label for="pan_submitted">PAN submitted</label>
				</div>

				<div class="fields1">
					<label for="address"> Address :</label> <input type="text"
						id="address" name="address" th:field="*{address}"
						required="required">
				</div>
			</div>

			<h3>Educational Details</h3>

			<div class="form-group">
				<div class="fields">
					<label for="qualification">Highest Qualification:</label> <input
						type="text" id="qualification" name="qualification">
				</div>
				<div class="fields">
					<label for="yearOfPassing">Year of Passing:</label> <input
						type="text" id="yearOfPassing" name="yearOfPassing">
				</div>
			</div>
			<div class="form-group">
				<div class="fields">
					<label for="school">College Name:</label> <input type="text"
						id="school" name="school">
				</div>
				<div class="fields">
					<label for="board">University:</label> <input type="text"
						id="board" name="board">
				</div>
			</div>
			<div class="form-group">
				<div class="fields">
					<label for="City">College City/Town</label> <input type="text"
						id="City" name="City">
				</div>
				<div class="fields">
					<label for="board">State</label> <input type="text" id="board"
						name="board">
				</div>
			</div>


			<div class="form-group">
				<div class="fields">
					<label for="marks">CGPA / Percentage:</label> <input type="text"
						id="marks" name="marks">
				</div>
				<div class="fields">
					<label for="Branch ">Qualifying Branch :</label> <input type="text"
						id="Branch" name="Branch">
				</div>
			</div>

			<div class="form-group">
				<div class="fields">
					<label for="skillset">Technical Skills:</label> <input type="text"
						id="skillset" name="skillset">
				</div>
				<div class="fields">
					<label for="certification">Technical Certification:</label> <input
						type="text" id="certification" name="certification">
				</div>
			</div>


			<h3>Previous Employement Details</h3>
			<div class="form-group">
				<div class="fields">
					<label for="jobrole">Job Role:</label> <input type="text"
						id="jobrole" name="jobrole">
				</div>



				<div class="fields">
					<label for="lastWorkedCompany">Last Worked Company:</label> <input
						type="text" id="lastWorkedCompany" name="lastWorkedCompany">
				</div>
			</div>


			<div class="form-group">
				<div class="fields">
					<label for="yearsOfExperience">Years of Experience:</label> <input
						type="text" id="yearsOfExperience" name="yearsOfExperience">
				</div>


				<div class="fields">
					<label for="uan">UAN Number:</label> <input type="text" id="uan"
						name="uan">
				</div>
			</div>


			<div class="form-group">



				<div class="fields">
					<label for="lastDateOfLeaving">Date of Leaving Previous
						Company:</label> <input type="text" id="lastDateOfLeaving"
						name="lastDateOfLeaving">
				</div>

			</div>



			<!--  <h2>Employment details</h2>
            <div class="form-group">

                <div class="fields">
                    <label for="department">Department:</label> <br> <select
                        id="department" name="department" th:field="*{department}"
                        required="required">
                        <option value="">Select Department</option>
                        <option value="Testing">Test</option>
                        <option value="Development">Development</option>
                        <option value="Design">Design</option>
                    </select>
                </div>

                <div>
                    <label for="managerid">Manager ID:</label><br> <select
                        id="managerid" name="managerid" th:field="*{managerid}"
                        required="required">
                        <option value="">Select Manager ID</option>
                        <!-- Add options for manager IDs -->
			<!--  <option value="ram-2325">ram-2325</option>
                        <option value="laxman-2102">laxman-2102</option>
                    </select>

                </div>

            </div>-->


			<h3>Emergency Details</h3>

			<div class="form-group">
				<div class="fields">
					<label for="emergencycontactperson">Emergency Contact
						Person name:</label> <input type="text" id="emergencycontactperson"
						required="required" name="emergencycontactperson">


				</div>

				<div>
					<label for="emergencycontactperson">Email id: </label> <input
						type="text" id="emergencycontactperson" required="required"
						name="emergencycontact 2" th:field="*{emergencycontactperson}">


				</div>
			</div>

			<div class="form-group">
				<div class="fields">

					<label for="emergencycontact">Emergency Contact 1:</label> <input
						type="text" id="emergencycontact" name="emergencycontact"
						required="required" th:field="*{emergencycontact}">
				</div>

				<div>
					<label for="emergencycontactperson">Emergency Contact 2: </label> <input
						type="text" id="emergencycontactperson" required="required"
						name="emergencycontact 2">


				</div>
			</div>

			<div class="form-group">


				<div>
					<label for="relation">Relationship :</label> <input type="text"
						id="Relationship" required="required" name="Relationship"
						th:field="*{relation}">


				</div>
			</div>



			<div class="form-group">
				<!--  <div>
					<button type="submit" class="btn btn-default">Submit</button>
				</div>-->

				<div></div>
			</div>
		</form>

	</div>

	<script>
    const { jsPDF } = window.jspdf;

    function downloadPDF() {
        const pdf = new jsPDF();
        const form = document.getElementById('employeeForm');
        const formData = new FormData(form);

        let yPos = 10;
        const sectionHeight = 20;
        const boxWidth = 170;
        const boxHeight = 18;

        const drawSection = (sectionName) => {
            pdf.setFillColor(200, 200, 200);
            pdf.rect(10, yPos, boxWidth, sectionHeight, 'F');
            pdf.setTextColor(0, 0, 0);
            pdf.setFontSize(12);
            pdf.text(20, yPos + 15, sectionName);
            yPos += sectionHeight;
        };

        formData.forEach((value, key) => {
            if (yPos > 250) { // Change this value as needed based on page height
                pdf.addPage();
                yPos = 10;
            }

            if (key === 'EmployeeName') {
                drawSection('Employee Information');
            } else if (key === 'Department') {
                drawSection('Department Information');
            }

            pdf.text(20, yPos + 5, `${key}: ${value}`);
            pdf.rect(10, yPos, boxWidth, boxHeight, 'S');
            yPos += boxHeight;
        });

        pdf.save('employee-details.pdf');
    }
</script>


	</script>
</body>
</html>
